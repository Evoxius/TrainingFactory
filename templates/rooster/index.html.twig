{% extends 'base.html.twig' %}

{% block title %}Publieke rooster - TrainingFactory{% endblock %}

{% block body %}
<section id="schemas" class="class pad-top-115">
    <div class="container pr">
        <div class="secHead wow fadeInLeft  animated" data-wow-delay="0.5s" style="visibility: visible; animation-delay: 0.5s; animation-name: fadeInLeft;">
            <div class="skewpink"></div>
            <div class="row">
                <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                    <div class="titleText">
                        <h6 class="titleTop">Bekijk</h6>
                        <h2 class="sectionTitle">ons <span> rooster,</span> {{ app.user.username }}</h2>
                    </div>
                </div>
            </div>
        </div>
</section>

    {% if is_granted('ROLE_ADMIN') %}
    <a class="btn btn-info" href="{{ asset('rooster/new') }}" style="margin-left:10px; margin-bottom: 40px;">Nieuwe rooster
        toevoegen</a>
    {% else %}
    {% endif %}

        {% if roosters %}
        <table id="roosters" class="table table-striped fadeInLeft animated" data-wow-delay="0.5s" style="visibility: visible; animation-delay: 0.5s; animation-name: fadeInLeft; margin-top:20px;">
            <tbody>
                {% for rooster in roosters %}

                <tr>
                    <div class="card text-white bg-dark" style="max-width: 20rem; margin-bottom:25px; margin-left: 25px;">
                        <div class="card-header">{{ rooster.name }} <div style="float:right;">Dag: {{ rooster.dag }}</div>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title">{{ rooster.tijd }}</h5>
                            <p class="card-text text-white">{{ rooster.descriptie }}</p>
                            {% if is_granted('ROLE_ADMIN') %}
                            <div class="row" style="margin-left:3px;">
                                <a href="{{ path('rooster_edit', {'id': rooster.id}) }}" class="btn btn-success" style="padding-right: 44px;">Edit</a>
                                {{ include('rooster/_delete_form.html.twig')}}
                            </div>
                            {% else %}
                            {% endif %}
                            {% if is_granted('ROLE_MEMBER') %}
                            <a href="#" class="btn btn-info" style="padding-right: 44px;">Subscribe</a>
                            {% else %}
                            {% endif %}
                        </div>
                    </div>
                </tr>

                {% endfor %}
            </tbody>
        </table>
    


{% else %}

    <div class="card text-white bg-danger mb-3" style="max-width: 20rem; margin-left: 350px; margin-bottom:300px;">
        <div class="card-header">Sorry!</div>
        <div class="card-body">
            <h5 class="card-title">Maar er zijn op dit moment geen lessen</h5>
            <p class="card-text text-white">Er komen meer lessen zometeen!</p>
        </div>
    </div>

{% endif %}
{% endblock %}
